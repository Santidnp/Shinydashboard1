g1 <- g1[,-7]
Genero <- g1 %>% group_by(MES) %>% count(GENERO)
View(g1)
View(g1)
View(Genero)
tiempo2 <- bucaramanga_c[,c("MODALIDAD","ANIO","MES","DIA_SEMANA","DELITO","GENERO")]
g1 <- tiempo2@data
Genero <- g1 %>% group_by(MES) %>% count(GENERO)
fig_3 <- Genero %>% plot_ly(x = ~MES , y = ~n, color = ~GENERO)
fig_3
Genero$MES <- factor(Mes$MES,levels = orden_mes,labels = orden_mes)
fig_3 <- Genero %>% plot_ly(x = ~MES , y = ~n, color = ~GENERO)
fig_3
Genero$MES <- factor(Genero$MES,levels = orden_mes,labels = orden_mes)
fig_3 <- Genero %>% plot_ly(x = ~MES , y = ~n, color = ~GENERO)
fig_3
Genero_F <-  g1 %>% group_by(MES) %>% count(DIA_SEMANA,GENERO) %>% filter(GENERO=="FEMENINO")
View(Genero_F)
Genero_M <-  g1 %>% group_by(MES) %>% count(DIA_SEMANA,GENERO) %>% filter(GENERO=="MASCULINO")
View(Genero_M)
fig_g <- Genero_M %>% plot_ly(x = ~MES , y = ~n, color = ~DIA_SEMANA)
fig_g <- Genero_F %>% plot_ly(x = ~MES , y = ~n, color = ~DIA_SEMANA)
fig_g <- fig %>% layout(
barmode="overlay",
bargap=0.1)
fig_g
View(serie_d)
View(series)
View(series_m)
fig_g <- Genero_M %>% plot_ly(x = ~MES , y = ~n, color = ~DIA_SEMANA,colors = "blue")
fig_g
fig_g <- Genero_F %>% plot_ly(x = ~MES , y = ~n, color = ~DIA_SEMANA,colors = "red")
fig_g
fig_g <- fig %>% layout(
barmode="overlay",
bargap=0.1)
fig_g
fig_g <- Genero_M %>% plot_ly(x = ~MES , y = ~n, color = ~DIA_SEMANA,colors = "blue")
fig_g <- Genero_F %>% plot_ly(x = ~MES , y = ~n, color = ~DIA_SEMANA,colors = "red")
fig_g <- fig %>% layout(
barmode="overlay")
fig_g
fig_g <- Genero_M %>% plot_ly(x = ~MES , y = ~n, color = ~DIA_SEMANA,colors = "blue") %>% add_trace(
type ="histogram",x = ~MES , y = ~n, color = ~DIA_SEMANA,colors = "red")
fig_g <- fig %>% layout(
barmode="overlay")
fig_g
fig_g <- Genero_M %>% plot_ly(x = ~MES , y = ~n, color = ~DIA_SEMANA,colors = "blue") %>% add_trace(
type ="bar",x = ~MES , y = ~n, color = ~DIA_SEMANA,colors = "red")
fig_g
fig_g <- Genero_M %>% plot_ly(x = ~MES , y = ~n, color = ~DIA_SEMANA,colors = "blue")
fig_g1 <- Genero_F %>%  plot_ly(type ="bar",x = ~MES , y = ~n, color = ~DIA_SEMANA,colors = "red")
fig_g1
fig_g
fig_g4 <- Genero %>% plot_ly(x = ~MES , y = ~n, color = ~c(GENERO,DIA_SEMANA))
fig_g4
Genero
Genero_dia <- g1 %>% group_by(MES) %>% count(DIA_SEMANA,GENERO)
fig_g4 <- Genero_dia %>% plot_ly(x = ~MES , y = ~n, color = ~c(GENERO,DIA_SEMANA))
fig_g4
fig_g4 <- Genero_dia %>% plot_ly(x = ~MES , y = ~n, color = ~c(DIA_SEMANA))
fig_g4
Genero_dia
View(bucaramanga_c1)
S1 <- bucaramanga_c1 %>% group_by(ANIO) %>% count(MES)
S1 <- serie_d %>% group_by(ANIO) %>% count(MES)
View(S1)
S1$MES <- factor(S1$MES,levels = orden_mes,labels = orden_mes)
View(S1)
S1 <- S1[order(S1)]
S1$MES <- S1$MES[order(S1$MES)]
View(S1)
S2 <- S1 %>% group_by(MES) %>% sum(n)
S2 <- S1 %>% group_by(MES)
View(S2)
S2 <- S1 %>% group_by(MES) %>% summarize(sum(n))
View(S2)
S2 <- S1 %>% group_by(ANIO) %>% summarize(sum(n))
View(S2)
S2 <- S1 %>% group_by(ANIO,MES) %>% summarize(sum(n))
View(S2)
S2 <- S1 %>% group_by(MES,ANIO) %>% summarize(sum(n))
View(S2)
View(serie_d)
table(serie_d)
summarise(serie_d)
tiempo3 <- bucaramanga_c[,c("ANIO","MES")]
serie_d1 <- tiempo3@data
S1 <- serie_d1 %>% group_by(ANIO) %>% count(MES)
S1$MES <- factor(S1$MES,levels = orden_mes,labels = orden_mes)
S1$MES <- S1$MES[order(S1$MES)]
View(S1)
View(S1)
View(S1)
View(serie_d1)
View(S1)
S1 <- serie_d1 %>% group_by(MES) %>% count(MES)
S1$MES <- factor(S1$MES,levels = orden_mes,labels = orden_mes)
S1$MES <- S1$MES[order(S1$MES)]
View(S1)
sum(S1$n)
S1 <- serie_d1 %>% group_by(ANIO) %>% count(MES) %>% group_by(MES)
View(S1)
S1 <- serie_d1 %>% group_by(ANIO) %>% count(MES) %>% group_by(MES)
S1$MES <- factor(S1$MES,levels = orden_mes,labels = orden_mes)
S1$MES <- S1$MES[order(S1$MES)]
View(S1)
S1 <- serie_d1 %>% group_by(ANIO) %>% count(MES) %>% group_by(MES) %>% summarise(sum(n))
S1$MES <- factor(S1$MES,levels = orden_mes,labels = orden_mes)
S1$MES <- S1$MES[order(S1$MES)]
View(S1)
S1 <- serie_d1 %>% group_by(ANIO) %>% count(MES) %>% group_by(ANIO) %>% summarise(sum(n))
S1$MES <- factor(S1$MES,levels = orden_mes,labels = orden_mes)
S1$MES <- S1$MES[order(S1$MES)]
S1 <- serie_d1 %>% group_by(ANIO) %>% summarise(sum(MES))
S1$MES <- factor(S1$MES,levels = orden_mes,labels = orden_mes)
S1$MES <- S1$MES[order(S1$MES)]
sum(MES)
S1 <- serie_d1 %>% group_by(ANIO) %>% summarise(count(MES))
View(serie_d1)
serie_d$MES <- factor(serie_d$MES,levels = orden_mes,labels = orden_mes)
serie_d$MES <- serie_d$MES[order[serie_d$MES]]
serie_d$MES <- serie_d$MES[order(serie_d$MES)]
View(serie_d)
str(a)
a=a
a="a"
a
for(i in c(0,1,2,3)){
serie_str(i)
}
for(i in c(0,1,2,3)){
serie_str <- serie_d %>% filter(DELITO==i)
}
View(serie_str)
paste(a,b)
paste("str","b")
paste0("str","b")
str(c(a))
str(a)
View(serie_str)
ANIO_orden <- c("2016","2017","2018","2019")
serie_d$ANIO <- factor(serie_d$ANIO,levels = ANIO_orden,labels = ANIO_orden)
serie_d$ANIO <- serie_d$ANIO[order(serie_d$ANIO)]
View(serie_d)
S1 <- serie_d1 %>% group_by(ANIO) %>% count(MES)
View(S1)
S1$MES <- factor(S1$MES,levels = orden_mes,labels = orden_mes)
S1$MES <- S1$MES[order(S1$MES)]
View(S1)
rm(S1)
S1 <- serie_d1 %>% group_by(ANIO) %>% count(MES)
View(Mes)
View(serie_d)
S1 <- serie_d1[,c(2,3)] %>% group_by(ANIO) %>% count(MES)
serie_d1[,c(2,3)]
c(2,3)
serie_d1[,c(2,3)]
View(serie_d)
S1 <- serie_d %>% group_by(ANIO) %>% count(MES)
View(S1)
View(serie_d)
View(bucaramanga_c1)
class(ser)
rm(list = ls())
library(rgdal)
library(sp)
library(sm)
library(sf)
library(tmap)
library(mapview)
library(spdep)
library(dplyr)
library(data.table)
library(plotly)
bucaramanga_c <- readOGR("C:/Users/sngh9/OneDrive/Escritorio/Espacio temporal/Bucaramanga_2/Bucaramanga.shp")
bucaramanga_c1 <- st_read("C:/Users/sngh9/OneDrive/Escritorio/Espacio temporal/Bucaramanga_2/Bucaramanga.shp")
tiempo <- bucaramanga_c[,c("MODALIDAD","ANIO","MES","DIA_SEMANA","DELITO")]
tiempo2 <- bucaramanga_c[,c("MODALIDAD","ANIO","MES","DIA_SEMANA","DELITO","GENERO")]
serie_d <- tiempo@data
serie_d$MODALIDAD <- as.character(serie_d$MODALIDAD)
tiempo1 <- bucaramanga_c1[,c("MODALIDAD","ANIO","MES","DIA_SEMANA","DELITO")]
series <- serie_d %>% group_by(ANIO) %>% count(DELITO)
series_m <- serie_d %>% group_by(ANIO) %>% count(MODALIDAD)
series_m1 <-  series_m %>% filter(ANIO==2016)
Mes <- serie_d %>% group_by(MES) %>% count(DIA_SEMANA,MODALIDAD)
orden_mes <- c("ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic")
Mes$MES <- factor(Mes$MES,levels = orden_mes,labels = orden_mes)
g1 <- tiempo2@data
g1 <- g1[,-7]
Genero <- g1 %>% group_by(MES) %>% count(GENERO)
Genero$MES <- factor(Genero$MES,levels = orden_mes,labels = orden_mes)
View(serie_d)
fig <- Mes
fig <- fig %>% plot_ly(x = ~MES, y = ~n, color = ~DIA_SEMANA)
fig
View(Mes)
serie_d$ANIO <- as.numeric(serie_d$ANIO)
View(serie_d)
rm(list = ls())
bucaramanga_c <- readOGR("C:/Users/sngh9/OneDrive/Escritorio/Espacio temporal/Bucaramanga_2/Bucaramanga.shp")
bucaramanga_c1 <- st_read("C:/Users/sngh9/OneDrive/Escritorio/Espacio temporal/Bucaramanga_2/Bucaramanga.shp")
tiempo <- bucaramanga_c[,c("MODALIDAD","ANIO","MES","DIA_SEMANA","DELITO")]
tiempo2 <- bucaramanga_c[,c("MODALIDAD","ANIO","MES","DIA_SEMANA","DELITO","GENERO")]
serie_d <- tiempo@data
serie_d$MODALIDAD <- as.character(serie_d$MODALIDAD)
tiempo1 <- bucaramanga_c1[,c("MODALIDAD","ANIO","MES","DIA_SEMANA","DELITO")]
series <- serie_d %>% group_by(ANIO) %>% count(DELITO)
series_m <- serie_d %>% group_by(ANIO) %>% count(MODALIDAD)
series_m1 <-  series_m %>% filter(ANIO==2016)
Mes <- serie_d %>% group_by(MES) %>% count(DIA_SEMANA,MODALIDAD)
orden_mes <- c("ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic")
Mes$MES <- factor(Mes$MES,levels = orden_mes,labels = orden_mes)
g1 <- tiempo2@data
g1 <- g1[,-7]
Genero <- g1 %>% group_by(MES) %>% count(GENERO)
Genero$MES <- factor(Genero$MES,levels = orden_mes,labels = orden_mes)
serie_d$ANIO <- as.character(serie_d$ANIO)
View(serie_d)
serie_d$ANIO <- as.numeric(as.character(serie_d$ANIO))
View(serie_d)
prueba <- serie_d$ANIO[order(serie_d$ANIO)]
prueba <- serie_d$ANIO[order(serie_d$ANIO)] %>% data.frame()
View(prueba)
View(serie_d)
tiempo2 <- bucaramanga_c[,c("MODALIDAD","ANIO","MES","DIA_SEMANA","DELITO","GENERO")]
View(serie_d)
View(bucaramanga_c1)
install.packages("leaflet")
library(leaflet)
m <- leaflet(bucaramanga_c)
m
View(bucaramanga_c1[[17]][[1]])
b <- readOGR("C:/Users/sngh9/Departamento Nacional de Planeacion/Unidad de Cientificos de Datos - Repositorio UCD/Proyectos UCD/2020/08_Prediccion_crimen/1_Insumos/Bases_de_datos/Bucaramanga/Bucaramanga.shp")
library(rgdal)
library(sp)
library(sm)
library(sf)
library(tmap)
library(mapview)
library(spdep)
library(dplyr)
library(data.table)
library(plotly)
b <- readOGR("C:/Users/sngh9/Departamento Nacional de Planeacion/Unidad de Cientificos de Datos - Repositorio UCD/Proyectos UCD/2020/08_Prediccion_crimen/1_Insumos/Bases_de_datos/Bucaramanga/Bucaramanga.shp")
View(b)
View(b@data)
library(rgdal)
library(sp)
library(sm)
library(sf)
library(tmap)
library(mapview)
library(spdep)
library(dplyr)
library(data.table)
library(plotly)
library(leaflet)
library(mapview)
mapa <- mapview(bucaramanga_c)
mapa
serie <- b %>% group_by(ANIO) %>% count(MES)
bb <- b@data
serie <- bb %>% group_by(ANIO) %>% count(MES)
View(serie)
paste(serie$ANIO,-,serie$MES)
paste(serie$ANIO,serie$MES)
serie$FECHA <- paste(serie$ANIO,serie$MES)
serie$FECHA <- as.Date(serie$FECHA, "%m/%d")
View(serie)
serie$FECHA <- paste(serie$ANIO,serie$MES)
serie$FECHA <- as.Date(serie$FECHA)
Sys.setlocale("LC_TIME")
serie$FECHA <- as.Date(serie$FECHA)
serie$FECHA <- as.Date(serie$FECHA,"%d%b%Y")
View(serie)
serie <- bb %>% group_by(ANIO) %>% count(MES)
serie$FECHA <- paste0(serie$ANIO,serie$MES)
serie$FECHA <- as.Date(serie$FECHA,"%Y%b")
View(serie)
serie$FECHA <- paste0(serie$ANIO,serie$MES)
View(serie)
x <- c( "2ene1960", "31mar1960", "30jul1960")
z <- as.Date(x, "%d%b%Y")
z
Sys.setlocale("LC_TIME")
x <- c( "2ene1960", "31mar1960", "30jul1960")
z <- as.Date(x, "%d%b%Y")
z
Sys.setlocale("LC_TIME","Spanish")
x <- c( "2ene1960", "31mar1960", "30jul1960")
z <- as.Date(x, "%d%b%Y")
z
serie$FECHA <- as.Date(serie$FECHA,"%Y%b")
x <- c( "ene1960", "mar1960", "jul1960")
z <- as.Date(x, "%d%b%Y")
z
x <- c( "ene1960", "mar1960", "jul1960")
z <- as.Date(x, "%b%Y")
z
x <- c( "ene1960", "mar1960", "jul1960")
z <- as.Date(x, "%d%Y")
z
x <- c( "ene1960", "mar1960", "jul1960")
z <- as.yearmon(x,  "%b%y")
install.packages("zoo")
install.packages("zoo")
library(zoo)
z <- as.yearmon(x,  "%b%y")
z
serie$FECHA <- paste0(serie$ANIO,serie$MES)
serie$FECHA <- as.Date(serie$FECHA,"%Y%b")
View(serie)
serie <- bb %>% group_by(ANIO) %>% count(MES)
serie$FECHA <- paste0(serie$ANIO,serie$MES)
View(serie)
serie <- bb %>% group_by(ANIO) %>% count(MES)
serie$FECHA <- paste0(serie$MES,serie$ANIO)
View(serie)
serie$FECHA <- as.Date(serie$FECHA,"%Y%b")
Sys.setlocale("LC_TIME","Spanish")
x <- c( "ene18", "mar19", "jul16")
z <- as.yearmon(x,  "%b%y")
z
x <- c( "ene2018", "mar2019", "jul2016")
z <- as.yearmon(x,  "%b%y")
z
serie <- bb %>% group_by(ANIO) %>% count(MES)
serie$FECHA <- paste0(serie$MES,serie$ANIO)
serie <- bb %>% group_by(ANIO) %>% count(MES)
serie$FECHA <- paste0(serie$MES,serie$ANIO)
serie$FECHA <- as.yearmon(serie$FECHA,"%b%y")
View(serie)
serie$ANIO <- as.numeric(series$ANIO)
serie <- bb %>% group_by(ANIO) %>% count(MES)
serie$ANIO <- as.numeric(series$ANIO)
serie$FECHA <- paste0(serie$MES,serie$ANIO)
View(serie)
serie <- bb %>% group_by(ANIO) %>% count(MES)
12*4
DIVIPOLA_XY <- read_excel("C:/Users/sngh9/OneDrive/Escritorio/Espacio temporal/DIVIPOLA_CPOB_MAR2017_XY.xls")
library(spatstat)
library(sp)
library(readxl)
library(r)
library(rgdal)
library(sp)
library(sm)
library(sf)
library(tmap)
library(data.table)
setwd("C:/Users/sngh9
DIVIPOLA_XY <- read_excel("C:/Users/sngh9/OneDrive/Escritorio/Espacio temporal/DIVIPOLA_CPOB_MAR2017_XY.xls")
View(DIVIPOLA_XY)
2+2
library(rgdal)
library(sp)
library(sm)
library(sf)
library(tmap)
library(mapview)
library(spdep)
#Cargar la libreria spdep
rm(list=ls())
Bucaramanga <- readShapePoly("C:/Users/sngh9/Departamento Nacional de Planeacion/Unidad de Cientificos de Datos - Repositorio UCD/Proyectos UCD/2020/08_Prediccion_crimen/1_Insumos/Bases_de_datos/Bucaramanga/Bucaramanga.shp")
library(spdep) # Econometria espacial
library(maptools) # leer archivos shapfiles y elaborar mapas
library(RColorBrewer) # Eleccion de colores
library(classInt)
Bucaramanga <- readShapePoly("C:/Users/sngh9/Departamento Nacional de Planeacion/Unidad de Cientificos de Datos - Repositorio UCD/Proyectos UCD/2020/08_Prediccion_crimen/1_Insumos/Bases_de_datos/Bucaramanga/Bucaramanga.shp")
cent <- coordinates(Bucaramanga)
pr.nb <- poly2nb(Bucaramanga, queen=TRUE)
2+2
plot(BUcaramanga, border="grey", lwd=1.5)
plot(Bucaramanga, border="grey", lwd=1.5)
plot(pr.nb,cent, add=T, col="darkred")
2+2
#Cargar la libreria spdep
rm(list=ls())
library(spdep) # Econometria espacial
library(maptools) # leer archivos shapfiles y elaborar mapas
library(RColorBrewer) # Eleccion de colores
library(classInt)
memory.limit(9999)
Bucaramanga <- readShapePoly("C:/Users/sngh9/Departamento Nacional de Planeacion/Unidad de Cientificos de Datos - Repositorio UCD/Proyectos UCD/2020/08_Prediccion_crimen/1_Insumos/Bases_de_datos/Bucaramanga/Bucaramanga.shp")
cent <- coordinates(Bucaramanga)
pr.nb <- poly2nb(Bucaramanga, queen=TRUE)
plot(Bucaramanga, border="grey", lwd=1.5)
plot(pr.nb,cent, add=T, col="darkred")
2+2
a <- plot(Bucaramanga, border="grey", lwd=1.5)
a <- plot(pr.nb,cent, add=T, col="darkred")
version
install.packages("installr")
install.packages(c("data.table", "dplyr", "GISTools", "maptools", "readxl", "rgeos", "rmapshaper", "sf", "sp", "spatstat", "spdep", "splancs", "tidycensus", "tidyverse", "tigris", "tmap", "tmaptools", "units"))
version
library(shiny)
library(flexdashboard)
library(flexdashboard)
install.packages("flexdashboard")
library(flexdashboard)
library(readxl)
library(dplyr)
library(data.table)
library(plotly)
install.packages("plotly")
library(flexdashboard)
library(readxl)
library(dplyr)
library(data.table)
library(plotly)
library(rpivotTable)
install.packages("rpivotTable")
library(flexdashboard)
library(readxl)
library(dplyr)
library(data.table)
library(plotly)
library(rpivotTable)
library(rgdal)
library(sp)
library(sm)
install.packages("sm")
library(flexdashboard)
library(readxl)
library(dplyr)
library(data.table)
library(plotly)
library(rpivotTable)
library(rgdal)
library(sp)
library(sm)
library(sf)
library(tmap)
library(xts)
install.packages("xts")
library(flexdashboard)
library(readxl)
library(dplyr)
library(data.table)
library(plotly)
library(rpivotTable)
library(rgdal)
library(sp)
library(sm)
library(sf)
library(tmap)
library(xts)
library(plotly)
library(treemap)
install.packages("treemap")
library(flexdashboard)
library(readxl)
library(dplyr)
library(data.table)
library(plotly)
library(rpivotTable)
library(rgdal)
library(sp)
library(sm)
library(sf)
library(tmap)
library(xts)
library(plotly)
library(treemap)
library(dygraphs)
install.packages("dygraphs")
library(flexdashboard)
library(readxl)
library(dplyr)
library(data.table)
library(plotly)
library(rpivotTable)
library(rgdal)
library(sp)
library(sm)
library(sf)
library(tmap)
library(xts)
library(plotly)
library(treemap)
library(dygraphs)
library(treemapify)
install.packages("treemapify")
install.packages("expss")
install.packages("flextable")
install.packages("bizdays")
library(flexdashboard)
library(readxl)
library(dplyr)
library(data.table)
library(plotly)
library(rpivotTable)
library(rgdal)
library(sp)
library(sm)
library(sf)
library(tmap)
library(xts)
library(plotly)
library(treemap)
library(dygraphs)
library(treemapify)
library(expss)
library(flextable)
library(bizdays)
install.packages("dummies")
install.packages("shinydashboard")
runApp('C:/Users/sngh9/OneDrive/Escritorio/ejercicios R/Shiny/Shinydashboardtutorial.R')
4+4
library(shiny); runApp('Shinydashboardtutorial.R')
install.packages("shiny")
